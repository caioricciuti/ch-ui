import{_ as i,c as a,o as e,a2 as n}from"./chunks/framework.C9oX9vvB.js";const c=JSON.parse('{"title":"Troubleshooting","description":"","frontmatter":{},"headers":[],"relativePath":"troubleshooting.md","filePath":"troubleshooting.md"}'),t={name:"troubleshooting.md"};function l(h,s,r,o,p,k){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h1><p>This guide helps you resolve common issues when using CH-UI.</p><h2 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h2><h3 id="environment-variables-not-working" tabindex="-1">Environment Variables Not Working <a class="header-anchor" href="#environment-variables-not-working" aria-label="Permalink to &quot;Environment Variables Not Working&quot;">​</a></h3><h4 id="problem" tabindex="-1">Problem <a class="header-anchor" href="#problem" aria-label="Permalink to &quot;Problem&quot;">​</a></h4><p>Environment variables aren&#39;t being applied when running CH-UI in Docker.</p><h4 id="solution" tabindex="-1">Solution <a class="header-anchor" href="#solution" aria-label="Permalink to &quot;Solution&quot;">​</a></h4><ol><li><strong>Verify you&#39;re using the latest image</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ghcr.io/caioricciuti/ch-ui:latest</span></span></code></pre></div><ol start="2"><li><strong>Check Docker logs</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span></span></code></pre></div><p>The logs will show which variables are SET/NOT SET.</p><ol start="3"><li><strong>Verify variables are set in the container</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> VITE_</span></span></code></pre></div><ol start="4"><li><strong>Ensure correct format</strong>:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Correct</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  VITE_CLICKHOUSE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://clickhouse:8123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Wrong (missing VITE_ prefix)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  CLICKHOUSE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://clickhouse:8123&quot;</span></span></code></pre></div><h3 id="reverse-proxy-issues" tabindex="-1">Reverse Proxy Issues <a class="header-anchor" href="#reverse-proxy-issues" aria-label="Permalink to &quot;Reverse Proxy Issues&quot;">​</a></h3><h4 id="assets-not-loading-404-errors" tabindex="-1">Assets Not Loading (404 Errors) <a class="header-anchor" href="#assets-not-loading-404-errors" aria-label="Permalink to &quot;Assets Not Loading (404 Errors)&quot;">​</a></h4><p><strong>Problem</strong>: CSS, JavaScript, or other static files return 404 errors.</p><p><strong>Solution</strong>:</p><ol><li>Ensure <code>VITE_BASE_PATH</code> matches your proxy location:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># If your proxy location is /ch-ui/</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  VITE_BASE_PATH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/ch-ui&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # No trailing slash</span></span></code></pre></div><ol start="2"><li>Check browser console for exact paths being requested</li><li>Verify nginx/Apache configuration matches the base path</li></ol><h4 id="blank-page-after-proxy-setup" tabindex="-1">Blank Page After Proxy Setup <a class="header-anchor" href="#blank-page-after-proxy-setup" aria-label="Permalink to &quot;Blank Page After Proxy Setup&quot;">​</a></h4><p><strong>Problem</strong>: CH-UI loads but shows a blank page.</p><p><strong>Solution</strong>:</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ensure these headers are set</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Host $host;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Real-IP $remote_addr;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Forwarded-Proto $scheme;</span></span></code></pre></div><h3 id="connection-issues" tabindex="-1">Connection Issues <a class="header-anchor" href="#connection-issues" aria-label="Permalink to &quot;Connection Issues&quot;">​</a></h3><h4 id="cannot-connect-to-clickhouse" tabindex="-1">Cannot Connect to ClickHouse <a class="header-anchor" href="#cannot-connect-to-clickhouse" aria-label="Permalink to &quot;Cannot Connect to ClickHouse&quot;">​</a></h4><p><strong>Problem</strong>: &quot;Connection refused&quot; or &quot;Failed to fetch&quot; errors.</p><p><strong>Solutions</strong>:</p><ol><li><strong>Check ClickHouse is running</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://your-clickhouse:8123/ping</span></span></code></pre></div><ol start="2"><li><strong>Verify URL format</strong>:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Correct - includes protocol</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VITE_CLICKHOUSE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://clickhouse:8123&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Wrong - missing protocol</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VITE_CLICKHOUSE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clickhouse:8123&quot;</span></span></code></pre></div><ol start="3"><li><strong>Docker networking issues</strong>:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Use host IP instead of container name for external ClickHouse</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VITE_CLICKHOUSE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://192.168.1.100:8123&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or use host.docker.internal on Docker Desktop</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VITE_CLICKHOUSE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://host.docker.internal:8123&quot;</span></span></code></pre></div><h4 id="authentication-failed" tabindex="-1">Authentication Failed <a class="header-anchor" href="#authentication-failed" aria-label="Permalink to &quot;Authentication Failed&quot;">​</a></h4><p><strong>Problem</strong>: &quot;Authentication failed&quot; error despite correct credentials.</p><p><strong>Solutions</strong>:</p><ol><li><strong>Check password special characters</strong>:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Escape special characters or use quotes</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VITE_CLICKHOUSE_PASS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;p@$$w0rd!&quot;</span></span></code></pre></div><ol start="2"><li><strong>Verify user permissions in ClickHouse</strong>:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHOW GRANTS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FOR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;your_user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ol start="3"><li><strong>Test with clickhouse-client</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clickhouse-client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-host</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your_user</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --password</span></span></code></pre></div><h3 id="query-execution-issues" tabindex="-1">Query Execution Issues <a class="header-anchor" href="#query-execution-issues" aria-label="Permalink to &quot;Query Execution Issues&quot;">​</a></h3><h4 id="queries-timing-out" tabindex="-1">Queries Timing Out <a class="header-anchor" href="#queries-timing-out" aria-label="Permalink to &quot;Queries Timing Out&quot;">​</a></h4><p><strong>Problem</strong>: Long-running queries fail with timeout errors.</p><p><strong>Solution</strong>:</p><ol><li><strong>Increase request timeout</strong>:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  VITE_CLICKHOUSE_REQUEST_TIMEOUT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;120000&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 2 minutes</span></span></code></pre></div><ol start="2"><li><strong>Increase proxy timeout</strong> (nginx):</li></ol><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /ch-ui/ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    proxy_read_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    proxy_send_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="large-result-sets-cause-browser-to-hang" tabindex="-1">Large Result Sets Cause Browser to Hang <a class="header-anchor" href="#large-result-sets-cause-browser-to-hang" aria-label="Permalink to &quot;Large Result Sets Cause Browser to Hang&quot;">​</a></h4><p><strong>Problem</strong>: Browser becomes unresponsive with large query results.</p><p><strong>Solutions</strong>:</p><ol><li>Add <code>LIMIT</code> to your queries</li><li>Use pagination in your queries</li><li>Export results instead of displaying in browser</li></ol><h3 id="column-names-with-special-characters" tabindex="-1">Column Names with Special Characters <a class="header-anchor" href="#column-names-with-special-characters" aria-label="Permalink to &quot;Column Names with Special Characters&quot;">​</a></h3><h4 id="problem-1" tabindex="-1">Problem <a class="header-anchor" href="#problem-1" aria-label="Permalink to &quot;Problem&quot;">​</a></h4><p>Tables with column names containing dots, spaces, or special characters don&#39;t display correctly.</p><h4 id="solution-1" tabindex="-1">Solution <a class="header-anchor" href="#solution-1" aria-label="Permalink to &quot;Solution&quot;">​</a></h4><p>This is automatically handled in CH-UI v1.5.30+. For older versions:</p><ol><li>Update to the latest version</li><li>Use backticks in manual queries:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`column.with.dots\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`column with spaces\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span></span></code></pre></div><h3 id="docker-specific-issues" tabindex="-1">Docker-Specific Issues <a class="header-anchor" href="#docker-specific-issues" aria-label="Permalink to &quot;Docker-Specific Issues&quot;">​</a></h3><h4 id="container-exits-immediately" tabindex="-1">Container Exits Immediately <a class="header-anchor" href="#container-exits-immediately" aria-label="Permalink to &quot;Container Exits Immediately&quot;">​</a></h4><p><strong>Problem</strong>: CH-UI container starts then immediately stops.</p><p><strong>Solutions</strong>:</p><ol><li><strong>Check logs</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span></span></code></pre></div><ol start="2"><li><strong>Verify port availability</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsof</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :5521</span></span></code></pre></div><ol start="3"><li><strong>Check resource limits</strong>:</li></ol><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ch-ui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    mem_limit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">512m</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Increase if needed</span></span></code></pre></div><h4 id="permission-denied-errors" tabindex="-1">Permission Denied Errors <a class="header-anchor" href="#permission-denied-errors" aria-label="Permalink to &quot;Permission Denied Errors&quot;">​</a></h4><p><strong>Problem</strong>: Container can&#39;t write to mounted volumes.</p><p><strong>Solution</strong>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set user in docker-compose</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ch-ui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1000:1000&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Match host user</span></span></code></pre></div><h3 id="build-issues-from-source" tabindex="-1">Build Issues (From Source) <a class="header-anchor" href="#build-issues-from-source" aria-label="Permalink to &quot;Build Issues (From Source)&quot;">​</a></h3><h4 id="node-version-mismatch" tabindex="-1">Node Version Mismatch <a class="header-anchor" href="#node-version-mismatch" aria-label="Permalink to &quot;Node Version Mismatch&quot;">​</a></h4><p><strong>Problem</strong>: Build fails with Node.js errors.</p><p><strong>Solution</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check Node version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Should be &gt;= 20.x</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Use nvm to switch versions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span></span></code></pre></div><h4 id="dependencies-installation-fails" tabindex="-1">Dependencies Installation Fails <a class="header-anchor" href="#dependencies-installation-fails" aria-label="Permalink to &quot;Dependencies Installation Fails&quot;">​</a></h4><p><strong>Problem</strong>: <code>npm install</code> fails with errors.</p><p><strong>Solution</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Clear cache and reinstall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node_modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-lock.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><h3 id="performance-issues" tabindex="-1">Performance Issues <a class="header-anchor" href="#performance-issues" aria-label="Permalink to &quot;Performance Issues&quot;">​</a></h3><h4 id="slow-ui-response" tabindex="-1">Slow UI Response <a class="header-anchor" href="#slow-ui-response" aria-label="Permalink to &quot;Slow UI Response&quot;">​</a></h4><p><strong>Problem</strong>: UI feels sluggish or unresponsive.</p><p><strong>Solutions</strong>:</p><ol><li><strong>Enable caching</strong> (already enabled by default)</li><li><strong>Check network latency</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-clickhouse-server</span></span></code></pre></div><ol start="3"><li><strong>Reduce query complexity</strong></li><li><strong>Check ClickHouse server load</strong>:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> system</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">metrics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> metric </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%CPU%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h4 id="high-memory-usage" tabindex="-1">High Memory Usage <a class="header-anchor" href="#high-memory-usage" aria-label="Permalink to &quot;High Memory Usage&quot;">​</a></h4><p><strong>Problem</strong>: CH-UI uses excessive browser memory.</p><p><strong>Solutions</strong>:</p><ol><li>Clear browser cache</li><li>Limit query result size</li><li>Close unused query tabs</li><li>Restart browser if needed</li></ol><h3 id="distributed-clickhouse-issues" tabindex="-1">Distributed ClickHouse Issues <a class="header-anchor" href="#distributed-clickhouse-issues" aria-label="Permalink to &quot;Distributed ClickHouse Issues&quot;">​</a></h3><h4 id="on-cluster-operations-fail" tabindex="-1">ON CLUSTER Operations Fail <a class="header-anchor" href="#on-cluster-operations-fail" aria-label="Permalink to &quot;ON CLUSTER Operations Fail&quot;">​</a></h4><p><strong>Problem</strong>: DDL with ON CLUSTER returns errors.</p><p><strong>Solutions</strong>:</p><ol><li><strong>Verify cluster configuration</strong>:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> system</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">clusters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ol start="2"><li><strong>Check ZooKeeper connectivity</strong>:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> system</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">zookeeper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ol start="3"><li><strong>Ensure all nodes are accessible</strong>:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:8123/ping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><h4 id="replication-lag" tabindex="-1">Replication Lag <a class="header-anchor" href="#replication-lag" aria-label="Permalink to &quot;Replication Lag&quot;">​</a></h4><p><strong>Problem</strong>: Data not consistent across replicas.</p><p><strong>Solution</strong>:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Check replication status</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    database</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    is_leader,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    total_replicas,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    active_replicas,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    queue_size</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> system</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Force sync if needed</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SYSTEM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SYNC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">REPLICA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name;</span></span></code></pre></div><h2 id="debug-mode" tabindex="-1">Debug Mode <a class="header-anchor" href="#debug-mode" aria-label="Permalink to &quot;Debug Mode&quot;">​</a></h2><h3 id="enable-verbose-logging" tabindex="-1">Enable Verbose Logging <a class="header-anchor" href="#enable-verbose-logging" aria-label="Permalink to &quot;Enable Verbose Logging&quot;">​</a></h3><p>For detailed debugging, run CH-UI with verbose logging:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Development mode with debug output</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span></span></code></pre></div><h3 id="browser-developer-tools" tabindex="-1">Browser Developer Tools <a class="header-anchor" href="#browser-developer-tools" aria-label="Permalink to &quot;Browser Developer Tools&quot;">​</a></h3><ol><li>Open Developer Tools (F12)</li><li>Check Console for errors</li><li>Monitor Network tab for failed requests</li><li>Check Application &gt; Local Storage for cached data</li></ol><h3 id="check-container-health" tabindex="-1">Check Container Health <a class="header-anchor" href="#check-container-health" aria-label="Permalink to &quot;Check Container Health&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Health check</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inspect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{{.State.Health.Status}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Resource usage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Network connectivity</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clickhouse-server</span></span></code></pre></div><h2 id="getting-help" tabindex="-1">Getting Help <a class="header-anchor" href="#getting-help" aria-label="Permalink to &quot;Getting Help&quot;">​</a></h2><p>If you can&#39;t resolve your issue:</p><ol><li><strong>Search existing issues</strong>: <a href="https://github.com/caioricciuti/ch-ui/issues" target="_blank" rel="noreferrer">GitHub Issues</a></li><li><strong>Create a new issue</strong> with: <ul><li>CH-UI version</li><li>ClickHouse version</li><li>Docker/deployment method</li><li>Error messages</li><li>Steps to reproduce</li></ul></li><li><strong>Join discussions</strong>: <a href="https://github.com/caioricciuti/ch-ui/discussions" target="_blank" rel="noreferrer">GitHub Discussions</a></li></ol><h3 id="collecting-debug-information" tabindex="-1">Collecting Debug Information <a class="header-anchor" href="#collecting-debug-information" aria-label="Permalink to &quot;Collecting Debug Information&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># System information</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CH-UI information</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inspect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ClickHouse version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clickhouse</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clickhouse-client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;SELECT version()&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Environment variables (sanitized)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> VITE_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/PASS=.*/PASS=***/&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ch-ui</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span></code></pre></div><h2 id="quick-fixes-reference" tabindex="-1">Quick Fixes Reference <a class="header-anchor" href="#quick-fixes-reference" aria-label="Permalink to &quot;Quick Fixes Reference&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Issue</th><th>Quick Fix</th></tr></thead><tbody><tr><td>Blank page</td><td>Check <code>VITE_BASE_PATH</code> matches proxy</td></tr><tr><td>404 on assets</td><td>Remove trailing slash from base path</td></tr><tr><td>Can&#39;t connect</td><td>Include <code>http://</code> in <code>VITE_CLICKHOUSE_URL</code></td></tr><tr><td>Timeout errors</td><td>Increase <code>VITE_CLICKHOUSE_REQUEST_TIMEOUT</code></td></tr><tr><td>Auth loops</td><td>Check proxy cookie settings</td></tr><tr><td>Slow queries</td><td>Add <code>LIMIT</code> clause to queries</td></tr><tr><td>Special characters</td><td>Update to v1.5.30+</td></tr><tr><td>Container exits</td><td>Check port 5521 availability</td></tr></tbody></table><h2 id="related-documentation" tabindex="-1">Related Documentation <a class="header-anchor" href="#related-documentation" aria-label="Permalink to &quot;Related Documentation&quot;">​</a></h2><ul><li><a href="/getting-started.html">Getting Started</a> - Initial setup guide</li><li><a href="/environment-variables.html">Environment Variables</a> - Complete configuration reference</li><li><a href="/reverse-proxy.html">Reverse Proxy</a> - Proxy configuration</li><li><a href="/permissions.html">Permissions</a> - ClickHouse access control</li><li><a href="/distributed-clickhouse.html">Distributed ClickHouse</a> - Cluster setup</li></ul>`,131)])])}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
